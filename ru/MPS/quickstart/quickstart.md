# Начало работы с Freedom Cloud Media Processing Service (MPS)

Media Processing Service (MPS) — это облачная платформа для офлайн-обработки аудио/видео и обработки медиаконтента в режиме live-стриминга. В этом руководстве описано, как зарегистрироваться, авторизовать ресурсы и начать выполнение офлайн- и live-задач.

## Этапы работы

MPS поддерживает **офлайн-обработку файлов** и **обработку live-стримов**.

## Офлайн-обработка файлов

### Шаг 1: Запуск задачи

Офлайн-задачу можно запустить тремя способами:

1. **Быстрое создание задачи в консоли**
   - Перейдите в консоль и нажмите **Create Offline Processing Task**.
   - **Укажите входной файл:** выберите файл из COS или Amazon S3 либо укажите URL для загрузки.
   - **Схема обработки:** добавьте функциональные узлы (например, транскодирование, улучшение, скриншоты) и выберите готовый шаблон или пользовательские параметры.
   - **Укажите путь вывода:** задайте место сохранения обработанных файлов. Для отдельных узлов (например, скриншотов) путь вывода можно настроить через *More Settings > Custom Screencapturing Output Path*.
   - Подтвердите и создайте задачу.

2. **Автоматический запуск задачи**
   - На странице *Offline Orchestration* создайте оркестрацию и настройте триггерный бакет/директорию и бакет/директорию вывода.
   - Включите авто-триггер для оркестрации. Новые файлы, загруженные в триггерную директорию, автоматически запускают обработку. Уже существующие файлы не обрабатываются.

3. **Запуск через API**
   - Используйте API **ProcessMedia** для программного запуска задач; этот способ подходит для пакетной обработки или интеграции с существующими системами.

### Шаг 2: Управление задачами

- Перейдите на страницу *Offline Task Management*, чтобы просмотреть список запущенных задач. Доступна фильтрация по статусу или Task ID, перезапуск ожидающих задач, воспроизведение исходного видео и загрузка результатов.
- При раскрытии задачи отображаются детали подзадач и выходные файлы.

## Обработка live-стримов

### Шаг 1: Запуск задачи

Доступны два способа:

1. **Быстрое создание задачи в консоли**
   - На странице создания задач нажмите **Create Live Processing Task**.
   - Укажите **URL live-стрима**, выберите схему (запись, модерация, улучшение и т.д.) и задайте путь вывода.
   - Консоль поддерживает запись в реальном времени. Убедитесь, что адрес стрима указан корректно; при ошибке получения MPS выполняет три попытки. При повторной неудаче задача записи завершается с ошибкой.

2. **Запуск через API**
   - Вызовите **ProcessLiveStream** для создания задачи live-обработки. API поддерживает интеллектуальную модерацию, интеллектуальное распознавание (лица, объекты, текст и речь с переводом и игровыми тегами), интеллектуальный анализ, контроль качества и запись live-стрима.

### Шаг 2: Управление задачами

- Перейдите в раздел *Live Stream Task Management* для просмотра и управления live-задачами. Здесь можно просматривать детали, останавливать задачи и выполнять другие операции.
